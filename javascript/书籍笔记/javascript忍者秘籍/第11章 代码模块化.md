# 第 11 章　代码模块化

-   小的、组织良好的代码远比庞大的代码更容易理解和维护。优化程序结构和组织方式的一种方式是将代码拆分成小的、耦合相对松散的片段或模块。
-   模块是比对象或函数稍大的、用于组织代码的单元，通过模块可以将程序进行分类。
-   -   通常来说，模块可以降低理解成本，模块易于维护，并可以提高代码的可重用性。
-   在 JavaScript ES6 之前，没有内置的模块，开发者们不得不创造性地发挥 JavaScript 语言现有的特性实现模块化。最流行的方式之一是通过立即执行函数的闭包实现模块。
    -   使用立即执行函数创建定义模块变量的闭包，从外部作用域无法访问这些 变量。
    -   使用闭包可以使模块变量保持活跃。
    -   最流行的是模块模式，通常采用立即执行函数，并返回一个新对象作为模块的公共接口。
-   除了模块模式，还有两个流行的模块标准：AMD，可以在浏览器端使用；CommonJS，在 JavaScript 服务端更流行。AMD 可以自动解决依赖，异步加载模块，避免阻塞。CommonJS 语法简单，可以同步加载模块（因此在服务端更流行），通过 npm（node 包管理）可以获取大量模块。
-   ES6 结合了 AMD 和 CommonJS 的特点。ES6 模块受 CommonJS 影响，语法简单，并提供了与 AMD 类似的异步模块加载机制。
    -   ES6 模块基于文件，一个文件是一个模块。
    -   通过关键字 export 导出标识符，在其他模块中可引用这些标识符。
    -   在其他模块中通过关键字 import 导入标识符。
    -   模块可以使用默认导出，通过一个 export 导出整个模块。
    -   export 与 import 都可以通过关键字 as 使用别名。
