# 第 2 章 运行时的页面构建过程

小结

-   浏览器接收的 HTML 代码用作创建 DOM 的蓝图，它是客户端 Web 应用结构的内部展示阶段。
-   我们使用 JavaScript 代码来动态地修改 DOM 以便给 Web 应用带来动态行为。
-   客户端 Web 应用的执行分为两个阶段。

    -   页面构建代码是用于创建 DOM 的，而全局 JavaScript 代码是遇到 script 节点时执行的。在这个执行过程中，JavaScript 代码能够以任意程度改变当前的 DOM，还能够注册事件处理器——事件处理器是一种函数，当某个特定事件（例如，一次鼠标单击或键盘按压）发生后会被执行。注册事件处理器很容易：使用内置的 addEventListener 方法。

    -   事件处理---在同一时刻，只能处理多个不同事件中的一个，处理顺序是事件生成的顺序。事件处理阶段大量依赖事件队列，所有的事件都以其出现的顺序存储在事件队列中。事件循环会检查事件队列的队头，如果检测到了一个事件，那么相应的事件处理器就会被调用。

练习

1．客户端 Web 应用的两个生命周期阶段是什么？

```md
1. 页面构建——创建用户界面；

2. 事件处理——进入循环（序号 5）从而等待事件（序号 6）的发生，发生后调用事件处理器。
```

2．相比将事件处理器赋值给某个特定元素的属性上，使用 addEventListener 方法来注册事件处理器的优势是什么？

```md
1. 前者对于某个事件只能注册一个事件处理器。也就是说，一不小心就会将上一个事件处理器改写掉。

2. 后者让我们能够注册尽可能多的事件，只要我们需要。
```

3．JavaScript 引擎在同一时刻能处理多少个事件?

```md
由于 js 是单线程执，所以同一时刻只能处理一个事件。任何后面的事件都只能在当前事件处理器完全结束执行后才能被处理！
```

4．事件队列中的事件是以什么顺序处理的？

```md
处理顺序是事件生成的顺序。事件处理阶段大量依赖事件队列，所有的事件都以其出现的顺序存储在事件队列中。事件循环会检查事件队列的队头，如果检测到了一个事件，那么相应的事件处理器就会被调用。
```
